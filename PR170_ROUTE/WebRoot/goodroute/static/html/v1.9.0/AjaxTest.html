<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head> 
<title>Example: Ajax.Request</title> 
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
<script src="../js/v1.9.0/prototype.js" type="text/javascript"></script> 
</head> 
<body> 
 
<script> 
	function searchByAjax() {
		var usrkey = $F('usrkey');
		if (usrkey == '') return;
		var url = 'http://localhost:8080/PR170_ROUTE/goodroute/dynamic/jsp/v1.9.0/test/AjaxTest.jsp';
		var pars = 'usrkey=' + encodeURIComponent(usrkey.toUpperCase());
		
		var myAjax = new Ajax.Request(
			url, 
			{
				method: 'get', 
				parameters: pars,
				onSuccess: showResponse,
				onFailure: alert('onFailure') 
				onComplete: showResponse,
				onCreate: alert('onCreate'),
				onUninitialized: alert('onUninitialized'),
				onLoading: alert('onLoading'),
				onInteractive: alert('onInteractive'),
				onXYZ: alert('onXYZ')
			});		
	}
 
	function showResponse(originalRequest) {
		alert('onComplete');
		//put returned XML in the textarea
		$('result').value = originalRequest.responseText;
		//$('result').innerHTML = '<pre>'+ originalRequest.responseText + '</pre>';
	}
</script> 
 
Search: <br /> 
<input type="text" id="usrkey" name="usrkey" value="" onkeyup="searchByAjax();" /> 
<br /> 
<br /> 
Result: <br /> 
<textarea id="result" cols="30" rows="10" ></textarea> 
<!--<div id="result"></div>--> 
 
</body> 
</html> 